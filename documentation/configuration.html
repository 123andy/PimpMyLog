<!DOCTYPE html><!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]--><!--[if IE 7]><html class="no-js lt-ie9 lt-ie8"><![endif]--><!--[if IE 8]><html class="no-js lt-ie9"><![endif]--><!--[if gt IE 8]><!--><html class="no-js"><!--<![endif]--><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="description" content="Log viewer for your web server"><meta name="viewport" content="width=device-width"><title>[Pimp my Log] Configuration</title><link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/apple-touch-icon.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/apple-touch-icon-152x152.png"><link href="http://pimpmylog.com/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed"><link href="http://pimpmylog.com/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed"><link href="//fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/dist/global.min.css?pml=0216171453"><script type="text/javascript">var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-44146210-2']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();</script><style>body {
				padding-top: 60px;
				padding-bottom: 20px;
			}</style></head><body><!--[if lt IE 7]><p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p><![endif]--><div class="navbar navbar-inverse navbar-fixed-top"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"><span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a href="/"><div class="logo"></div></a></div><div class="navbar-collapse collapse navbar-right"><ul class="nav navbar-nav"><li><a href="/">Home</a></li><li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Getting Started <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="/getting-started/">Introduction</a></li><li class="divider"></li><li><a href="/getting-started/quick-start.html">Quick start</a></li><li><a href="/getting-started/screenshots.html">Screenshots</a></li></ul></li><li class="dropdown active"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="/documentation/">Introduction</a></li><li class="divider"></li><li><a href="/documentation/change-log.html">Change log</a></li><li class="active"><a href="/documentation/configuration.html">Configuration</a></li><li><a href="/documentation/customization.html">Customization</a></li></ul></li><li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Developer <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="/developer/">Introduction</a></li><li class="divider"></li><li><a href="/developer/debug.html">Debug</a></li><li><a href="/developer/softwares.html">Softwares</a></li></ul></li><li><a href="/blog/">Blog</a></li><li><a href="/search/">Search</a></li><li><a href="http://support.pimpmylog.com">Support</a></li></ul></div></div></div><div class="container"><p>You can configure a standard profile for each <em>Pimp My Log</em> instance. A profile is stored in the <code>config.user.json</code> file at root. If you have done the automatic configuration at first launch, this file has been automatically created and set up for you. You can now adjust settings to fit your daily usage.</p><p>This file is not updated and is ignored when you perform a <code>git pull</code> so you can easily update <em>Pimp My Log</em>, your settings will be kept.</p><p>The file is composed by these 3 objects:</p><ul><li><a href="#globals"><code>globals</code></a> : global constants for <em>Pimp My Log</em> that you can overwrite</li><li><a href="#files"><code>files</code></a> : the log files description with path, format, column definition, ...</li><li><a href="#badges"><code>badges</code></a> : a matching array between some kind of values and CSS classes</li></ul><p>Finally, you can set some settings with <a href="#environment">environment</a> parameters.</p><h1 id="toc_0">1 - Globals</h1><p><a name="globals"></a> <a name="AUTO_UPGRADE"></a></p><h4 id="toc_1">AUTO_UPGRADE</h4><p><em>Pimp My Log</em> gives you the ability to automatically upgrade via the interface.</p><blockquote><p><strong>Note</strong></p><p>it only works for installations done via GIT and if your server is *nix</p></blockquote><blockquote><p><strong>Note</strong></p><p>The button is available for everybody on an unsecured installation</p><p>The button is only available for admins on a secured installation</p></blockquote><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;AUTO_UPGRADE&quot;</span> <span class="err">:</span> <span class="kc">false</span>
</code></pre></div><hr><p><a name="CHECK_UPGRADE"></a> <a name="checkupgrade"></a></p><h4 id="toc_2">CHECK_UPGRADE</h4><p>Whether <em>Pimp My Log</em> should check for a new available version on launch or not. You should let this value to <code>true</code> given that the check is done in background and only downloads a few bytes.</p><blockquote><p><strong>Note</strong></p><p>Turn it to <code>false</code> if your <em>Pimp My Log</em> instance is installed on an embedded device without internet connection (*box*, <em>player</em>, ...)</p></blockquote><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;CHECK_UPGRADE&quot;</span> <span class="err">:</span> <span class="kc">true</span>
</code></pre></div><hr><p><a name="AUTH_LOG_FILE_COUNT"></a></p><h4 id="toc_3">AUTH_LOG_FILE_COUNT</h4><p>How many logs do an administrator want to display in the <code>Manage users &gt; History</code> menu.</p><blockquote><p><strong>Note</strong></p><p>Set this to <code>0</code> to stop logging user actions</p></blockquote><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;AUTH_LOG_FILE_COUNT&quot;</span> <span class="err">:</span> <span class="mi">100</span>
</code></pre></div><hr><p><a name="EXPORT"></a></p><h4 id="toc_4">EXPORT</h4><p>Does the <code>EXPORT</code> button be displayed in the interface and are feeds (RSS, ATOM, XML, JSON, ...) be available ?</p><p>Set <code>&quot;EXPORT&quot; : false</code> to disable export for all logs by default. If you want to enable the export feature for only one log, set the <code>export</code> (lowercase) parameter to true <code>&quot;export&quot; : true</code> in the <strong>wanted file settings</strong>.</p><p>Set <code>&quot;EXPORT&quot; : true</code> to enable export for all logs by default. If you want to disable the export feature for only one log, set the <code>export</code> (lowercase) parameter to false <code>&quot;export&quot; : false</code> in the <strong>wanted file settings</strong>.</p><p>Basically, the log file parameter <code>export</code> takes precedence on the global parameter <code>EXPORT</code>.</p><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;EXPORT&quot;</span> <span class="err">:</span> <span class="kc">true</span>
</code></pre></div><hr><p><a name="FILE_SELECTOR"></a> <a name="fileselector"></a></p><h4 id="toc_5">FILE_SELECTOR</h4><p>Tell how <em>Pimp My Log</em> must display the log file selector.</p><p>Values are :</p><ul><li><code>bs</code> : <em>BootStrap</em> design, pretty but does not support more than several dozen of log files (the list goes out of your screen when there is a lot of files)</li><li><code>html</code> : a <em>select</em> form input element is used, it supports several hundreds of log files</li></ul><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;FILE_SELECTOR&quot;</span> <span class="err">:</span> <span class="s2">&quot;bs&quot;</span>
</code></pre></div><hr><p><a name="FOOTER"></a></p><h4 id="toc_6">FOOTER</h4><p>This constant is the footer text in <em>HTML</em>.</p><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;FOOTER&quot;</span> <span class="err">:</span> <span class="s2">&quot;&amp;copy; &lt;a href=\&quot;http:\/\/www.potsky.com\&quot; target=\&quot;doc\&quot;&gt;Potsky&lt;\/a&gt; 2013 - &lt;a href=\&quot;http:\/\/pimpmylog.com\&quot; target=\&quot;doc\&quot;&gt;Pimp my Log&lt;\/a&gt;&quot;</span>
</code></pre></div><hr><p><a name="FORGOTTEN_YOUR_PASSWORD_URL"></a></p><h4 id="toc_7">FORGOTTEN_YOUR_PASSWORD_URL</h4><p>You can set your own URL to provide a <em>lost password</em> page to users who have forgotten their password.</p><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="err">&#39;FORGOTTEN_YOUR_PASSWORD_URL&#39;</span> <span class="err">:</span> <span class="err">&#39;http:\/\/support.pimpmylog.com\/kb\/misc\/forgotten-your-password&#39;</span>
</code></pre></div><hr><p><a name="GEOIP_URL"></a></p><h4 id="toc_8">GEOIP_URL</h4><p>This constant is used to generate links for fields with type <em>ip</em> (see below). The url is used and the IP address will replace all <code>%p</code> instance.</p><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;GEOIP_URL&quot;</span> <span class="err">:</span> <span class="s2">&quot;http:\/\/www.geoiptool.com\/en\/?IP=%p&quot;</span>
</code></pre></div><hr><p><a name="GOOGLE_ANALYTICS"></a></p><h4 id="toc_9">GOOGLE_ANALYTICS</h4><p>Your <em>Google Analytics tracking ID</em>. If you let the default value or empty, <em>Google Analytics</em> will not be loaded.</p><blockquote><p><strong>Note</strong></p><p>Do not set a <em>Google Analytics tracking ID</em> if your <em>Pimp My Log</em> instance runs offline.</p></blockquote><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;GOOGLE_ANALYTICS&quot;</span> <span class="err">:</span> <span class="s2">&quot;UA-XXXXX-X&quot;</span>
</code></pre></div><hr><p><a name="LOCALE"></a></p><h4 id="toc_10">LOCALE</h4><p>You can set a default locale for all users. By default, this value is not set and the displayed language is the user browser one.</p><p>If you set <code>&quot;LOCALE&quot; : &quot;fr_FR&quot;</code> for example, <em>Pimp My Log</em> will be in French by default whatever is the browser language for all users.</p><p>Users can personally overwrite this value with a GET parameter when launching <em>Pimp My Log</em>. More informations are available <a href="/documentation/index.html#languageselector">here</a>.</p><hr><p><a name="LOGS_MAX"></a></p><h4 id="toc_11">LOGS_MAX</h4><p>This is the number of logs to display by default for all log files. This value is overwritten by the <code>max</code> value of the <code>files</code> object.</p><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;LOGS_MAX&quot;</span> <span class="err">:</span> <span class="mi">10</span>
</code></pre></div><hr><p><a name="LOGS_REFRESH"></a></p><h4 id="toc_12">LOGS_REFRESH</h4><p>This is the frequency in seconds to refresh the logs for all log files. This value is overwritten by the <code>refresh</code> value of the <code>files</code> object. If set to <code>0</code>, auto-refresh is disabled and users will have to pull to refresh, click on the refresh button or stroke the key <code>R</code>.</p><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;LOGS_REFRESH&quot;</span> <span class="err">:</span> <span class="mi">7</span>
</code></pre></div><hr><p><a name="MAX_SEARCH_LOG_TIME"></a> <a name="max_search_log_time"></a></p><h4 id="toc_13">MAX_SEARCH_LOG_TIME</h4><p>This is the maximum duration in seconds to search for logs in log files. <em>Pimp My Log</em> parses logs from the end to the beginning of log files and stop parsing log files when :</p><ul><li>the last line of the previous parsing process is reached (incremental parsing)</li><li>the maximum count of logs is reached</li><li>the beginning of file is reached</li></ul><p>So the first parsing can be long and search parsing too. When this duration is reached, parsed logs are returned even if the maximum logs count is not reached.</p><p>Searching for an unexisting word in a several gigabytes log file will not retain a web server process for a long time.</p><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;MAX_SEARCH_LOG_TIME&quot;</span> <span class="err">:</span> <span class="mi">3</span>
</code></pre></div><hr><p><a name="NAV_TITLE"></a></p><h4 id="toc_14">NAV_TITLE</h4><p>This is the text displayed in the navigation bar on top left. This text is hidden on devices which have a less than 768 pixels width.</p><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;NAV_TITLE&quot;</span> <span class="err">:</span> <span class="s2">&quot;&quot;</span>
</code></pre></div><hr><p><a name="NOTIFICATION"></a></p><h4 id="toc_15">NOTIFICATION</h4><p>Whether desktop notifications are enabled or not on supported browsers for all log files. This value is overwritten by the <code>notify</code> value of the <code>files</code> object.</p><p>If set to <code>true</code>, desktop notifications are enabled on supported browser. On launch, users will be prompt whether they allow or not desktop notifications. The notification icon on top right is: - green when user allows - orange when user do not take a decision - red when user denies</p><p>If set to <code>false</code>, desktop notifications are disabled and the notification icon is grey.</p><p>If browser does not support desktop notification, the notification icon is not displayed.</p><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;NOTIFICATION&quot;</span> <span class="err">:</span> <span class="kc">true</span>
</code></pre></div><hr><p><a name="NOTIFICATION_TITLE"></a></p><h4 id="toc_16">NOTIFICATION_TITLE</h4><p>The title of the desktop notification if enabled.</p><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;NOTIFICATION_TITLE&quot;</span> <span class="err">:</span> <span class="s2">&quot;New logs [%f]&quot;</span>
</code></pre></div><p>You can use this variable:</p><ul><li><code>%f</code>: the name of the file (the <em>display</em> attribute)</li><li><code>%i</code>: the ID of the file</li></ul><hr><p><a name="PIMPMYLOG_VERSION_URL"></a> <a name="pimpmylog_version_url"></a></p><h4 id="toc_17">PIMPMYLOG_VERSION_URL</h4><p>This is the url of the current version file in production. If you have installed the <em>beta</em> branch instead of the <em>master</em> one, install this constant and replace word <em>demo</em> by <em>beta</em> in the url. <em>Pimp my Log</em> will then check for beta upgrades instead of production upgrades.</p><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;PIMPMYLOG_VERSION_URL&quot;</span> <span class="err">:</span> <span class="s2">&quot;http:\/\/demo.pimpmylog.com\/version.js&quot;</span>
</code></pre></div><p>To track beta versions:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;PIMPMYLOG_VERSION_URL&quot;</span> <span class="err">:</span> <span class="s2">&quot;http:\/\/beta.pimpmylog.com\/version.js&quot;</span>
</code></pre></div><hr><p><a name="PORT_URL"></a></p><h4 id="toc_18">PORT_URL</h4><p>This constant is used to generate links for fields with type <em>port</em> (see below). The url is used and the TCP/UDP port will replace all <code>%p</code> instance.</p><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;PORT_URL&quot;</span> <span class="err">:</span> <span class="s2">&quot;http:\/\/www.adminsub.net\/tcp-udp-port-finder\/%p&quot;</span>
</code></pre></div><hr><p><a name="PULL_TO_REFRESH"></a></p><h4 id="toc_19">PULL_TO_REFRESH</h4><p>Whether a <em>pull to refresh</em> system is loaded or not to refresh logs. You can disable this feature if your browser always refresh logs as soon as you scroll in the window.</p><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;PULL_TO_REFRESH&quot;</span> <span class="err">:</span> <span class="kc">true</span>
</code></pre></div><hr><p><a name="SORT_LOG_FILES"></a></p><h4 id="toc_20">SORT_LOG_FILES</h4><p>How do you want to sort log files in the file selector on top keft ?</p><p>Possible values are :</p><ul><li><code>default</code> : sort files as they are defined in the configuration file</li><li><code>display-asc</code> : sort files ascendant by name (parameter <code>display</code> in configuration file)</li><li><code>display-insensitive</code> : sort files ascendant by case insensitive name (parameter <code>display</code> in configuration file)</li><li><code>display-asc</code> : sort files descendant by name (parameter <code>display</code> in configuration file)</li><li><code>display-insensitive</code> : sort files descendant by case insensitive name (parameter <code>display</code> in configuration file)</li></ul><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;SORT_LOG_FILES&quot;</span> <span class="err">:</span> <span class="s2">&quot;default&quot;</span>
</code></pre></div><hr><p><a name="TAG_DISPLAY_LOG_FILES_COUNT"></a></p><h4 id="toc_21">TAG_DISPLAY_LOG_FILES_COUNT</h4><p>Whether a log files count should be display next to each tag name.</p><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;TAG_DISPLAY_LOG_FILES_COUNT&quot;</span> <span class="err">:</span> <span class="kc">true</span>
</code></pre></div><hr><p><a name="TAG_NOT_TAGGED_FILES_ON_TOP"></a></p><h4 id="toc_22">TAG_NOT_TAGGED_FILES_ON_TOP</h4><p>Where are untagged files displayed ? On top of the tag list or on bottom ?</p><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;TAG_NOT_TAGGED_FILES_ON_TOP&quot;</span> <span class="err">:</span> <span class="kc">true</span>
</code></pre></div><hr><p><a name="TAG_SORT_TAG"></a></p><h4 id="toc_23">TAG_SORT_TAG</h4><p>How to sort tags in the tag list?</p><p>Possible values are :</p><ul><li><code>default</code> : sort tags as they are defined in the configuration file</li><li><code>display-asc</code> : sort tags ascendant</li><li><code>display-insensitive</code> : sort tags ascendant by case insensitive</li><li><code>display-asc</code> : sort tags descendant</li><li><code>display-insensitive</code> : sort tags descendant by case insensitive</li></ul><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;TAG_SORT_TAG&quot;</span> <span class="err">:</span> <span class="s2">&quot;display-asc&quot;</span>
</code></pre></div><hr><p><a name="TITLE"></a></p><h4 id="toc_24">TITLE</h4><p>The HTML title of the <em>Pimp My Log</em> page when no file is loaded.</p><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;TITLE&quot;</span> <span class="err">:</span> <span class="s2">&quot;Pimp my Log&quot;</span>
</code></pre></div><hr><p><a name="TITLE_FILE"></a></p><h4 id="toc_25">TITLE_FILE</h4><p>The HTML title of the <em>Pimp My Log</em> page when a file is loaded</p><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;TITLE_FILE&quot;</span> <span class="err">:</span> <span class="s2">&quot;Pimp my Log [%n]&quot;</span>
</code></pre></div><p>You can use these variables:</p><ul><li><code>%f</code>: the name of the file (the <em>display</em> attribute)</li><li><code>%i</code>: the ID of the file</li></ul><hr><p><a name="USER_CONFIGURATION_DIR"></a></p><h4 id="toc_26">USER_CONFIGURATION_DIR</h4><p>You can split your files configuration file in several parts. <code>config.user.json</code> is mandatory and you can add files parts in several files in a folder. By default, this folder is named <code>config.user.d</code> and is next to <code>config.user.json</code> file. But you can change the location. Changing this folder is useful if you have several <em>Pimp my Log</em> instances on the same server and want to share some configurations.</p><p>All files are recursively parsed in this folder and in its all sub-folders.</p><p>Only files with <code>json</code> extension are parsed.</p><p>Here is <code>config.user.d/httpd.json</code> for example :</p><div class="highlight"><pre><code class="text language-text" data-lang="text">{
    &quot;apache1&quot; : {
        &quot;display&quot;   : &quot;Apache Error #1&quot;,
        &quot;path&quot;      : &quot;\/var\/log\/apache2\/error.log&quot;,
        &quot;refresh&quot;   : 5,
        &quot;max&quot;       : 10,
        &quot;export&quot;    : true,
        &quot;notify&quot;    : true,
        &quot;tags&quot;    : [ &quot;Apache&quot; , &quot;Error&quot; ],
        &quot;multiline&quot; : &quot;&quot;,
        &quot;format&quot;    : {
            &quot;export_title&quot; : &quot;Log&quot;,
            &quot;type&quot;         : &quot;HTTPD 2.2&quot;,
            &quot;regex&quot;        : &quot;|^\\[(.*)\\] \\[(.*)\\] (\\[client (.*)\\] )*((?!\\[client ).*)(, referer: (.*))*$|U&quot;,
            &quot;match&quot;        : {
                &quot;Date&quot;     : 1,
                &quot;IP&quot;       : 4,
                &quot;Log&quot;      : 5,
                &quot;Severity&quot; : 2,
                &quot;Referer&quot;  : 7
            },
            &quot;types&quot; : {
                &quot;Date&quot;     : &quot;date:H:i:s&quot;,
                &quot;IP&quot;       : &quot;ip:http&quot;,
                &quot;Log&quot;      : &quot;pre&quot;,
                &quot;Severity&quot; : &quot;badge:severity&quot;,
                &quot;Referer&quot;  : &quot;link&quot;
            },
            &quot;exclude&quot; : {
                &quot;Log&quot;: [&quot;\/PHP Stack trace:\/&quot;, &quot;\/PHP *[0-9]*\\. \/&quot;]
            }
        }
    }
}
</code></pre></div><blockquote><p><strong>Warning</strong></p><p>This folder, its sub-folders and inner files have to be readable and crossable by the webserver user.</p><p>No warning is thrown if the webserver user cannot have access to a file or a folder.</p></blockquote><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;USER_CONFIGURATION_DIR&quot;</span> <span class="err">:</span> <span class="s2">&quot;config.user.d&quot;</span>
</code></pre></div><hr><p><a name="USER_TIME_ZONE"></a></p><h4 id="toc_27">USER_TIME_ZONE</h4><p>You can easily change all time values of log files. By default, all time values are displayed as they are stored in log files, assuming they correspond to the server timezone. The server timezone is normally set in the <code>php.ini</code> configuration file on the server running your <em>Pimp My Log</em> instance. If all <em>Pimp My Log</em> users are in an other timezone, you can set this value to shift all time values in their time zone.</p><p>Each user can shift its timezone by <a href="/documentation/index.html#timezone">setting a GET parameter</a>.</p><p>Default:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;USER_TIME_ZONE&quot;</span> <span class="err">:</span> <span class="s2">&quot;Europe\/Paris&quot;</span>
</code></pre></div><hr><h1 id="toc_28">2 - Badges</h1><p><a name="badges"></a></p><p>The <code>badges</code> object defines which CSS class should be used when applying the type <code>badges</code> on a log token (types are explained <a href="#typesformat">below</a>). This CSS is applied on a <a href="http://getbootstrap.com/components/#labels">bootstrap <em>label</em> object</a>.</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;badges&quot;</span><span class="err">:</span> <span class="p">{</span>
        <span class="nt">&quot;severity&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;debug&quot;</span> <span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
                <span class="nt">&quot;info&quot;</span> <span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
                <span class="nt">&quot;notice&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nt">&quot;warn&quot;</span> <span class="p">:</span> <span class="s2">&quot;warning&quot;</span><span class="p">,</span>
                <span class="nt">&quot;error&quot;</span> <span class="p">:</span> <span class="s2">&quot;danger&quot;</span><span class="p">,</span>
                <span class="nt">&quot;crit&quot;</span> <span class="p">:</span> <span class="s2">&quot;danger&quot;</span><span class="p">,</span>
                <span class="nt">&quot;alert&quot;</span> <span class="p">:</span> <span class="s2">&quot;danger&quot;</span><span class="p">,</span>
                <span class="nt">&quot;emerg&quot;</span> <span class="p">:</span> <span class="s2">&quot;danger&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;http&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;1&quot;</span> <span class="p">:</span> <span class="s2">&quot;info&quot;</span><span class="p">,</span>
                <span class="nt">&quot;2&quot;</span> <span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
                <span class="nt">&quot;3&quot;</span> <span class="p">:</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
                <span class="nt">&quot;4&quot;</span> <span class="p">:</span> <span class="s2">&quot;warning&quot;</span><span class="p">,</span>
                <span class="nt">&quot;5&quot;</span> <span class="p">:</span> <span class="s2">&quot;danger&quot;</span>
        <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><h1 id="toc_29">3 - Files</h1><p><a name="files"></a></p><p>The file object is the main item in the configuration file and it defines:</p><ul><li>which log files to display (file path on the server)</li><li>how to parse the log file lines (the regular expression)</li><li>what to extract (which are the tokens to take in consideration)</li><li>how to display (how have these tokens to be formatted)</li><li>what to exclude</li><li>other parameters which can overwrite the globals</li></ul><h2 id="toc_30">3.1 - Files structure</h2><p>The <code>files</code> object is a dictionary of files (a <code>file</code> object). The key <code>fileid</code> is not really important (eg: <code>apacheaccess</code>, <code>nginx</code>, ...).</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;files&quot;</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">&quot;apacheaccess&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="err">...</span>
    <span class="p">},</span>
    <span class="err">...</span>
    <span class="nt">&quot;nginx&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="err">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><blockquote><p><strong>Note</strong></p><p>The first file defined in this object will be the selected file when <em>Pimp My Log</em> is loaded.</p></blockquote><h3 id="toc_31">3.1.1 - File structure</h3><p>The <code>file</code> object structure is something like this:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;display&quot;</span>   <span class="err">:</span> <span class="s2">&quot;Apache Error #1&quot;</span><span class="err">,</span>
<span class="s2">&quot;path&quot;</span>      <span class="err">:</span> <span class="s2">&quot;\/opt\/local\/apache2\/logs\/error_log&quot;</span><span class="err">,</span>
<span class="s2">&quot;refresh&quot;</span>   <span class="err">:</span> <span class="mi">5</span><span class="err">,</span>
<span class="s2">&quot;max&quot;</span>       <span class="err">:</span> <span class="mi">10</span><span class="err">,</span>
<span class="s2">&quot;notify&quot;</span>    <span class="err">:</span> <span class="kc">true</span><span class="err">,</span>
<span class="s2">&quot;tags&quot;</span>      <span class="err">:</span> <span class="p">[</span> <span class="s2">&quot;Apache&quot;</span> <span class="p">,</span> <span class="s2">&quot;Error&quot;</span> <span class="p">]</span><span class="err">,</span>
<span class="s2">&quot;export&quot;</span>    <span class="err">:</span> <span class="kc">true</span><span class="err">,</span>
<span class="s2">&quot;multiline&quot;</span> <span class="err">:</span> <span class="s2">&quot;&quot;</span><span class="err">,</span>
<span class="s2">&quot;order&quot;</span>     <span class="err">:</span> <span class="mi">-1</span><span class="err">,</span>
<span class="s2">&quot;sort&quot;</span>      <span class="err">:</span> <span class="s2">&quot;Log&quot;</span><span class="err">,</span>
<span class="s2">&quot;thinit&quot;</span>    <span class="err">:</span> <span class="p">[</span> <span class="s2">&quot;IP&quot;</span> <span class="p">,</span> <span class="s2">&quot;Log&quot;</span> <span class="p">,</span> <span class="s2">&quot;Severity&quot;</span> <span class="p">]</span><span class="err">,</span>
<span class="s2">&quot;format&quot;</span>    <span class="err">:</span> <span class="p">{</span>
    <span class="nt">&quot;multiline&quot;</span>    <span class="p">:</span> <span class="s2">&quot;Log&quot;</span><span class="p">,</span>
    <span class="nt">&quot;export_title&quot;</span> <span class="p">:</span> <span class="s2">&quot;Log&quot;</span><span class="p">,</span>
    <span class="nt">&quot;regex&quot;</span>        <span class="p">:</span> <span class="s2">&quot;|^\\[(.*)\\] \\[(.*)\\] (\\[client (.*)\\] )*((?!\\[client ).*)(, referer: (.*))*$|U&quot;</span><span class="p">,</span>
    <span class="nt">&quot;match&quot;</span>        <span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;Date&quot;</span>     <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nt">&quot;IP&quot;</span>       <span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="nt">&quot;Log&quot;</span>      <span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="nt">&quot;Severity&quot;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="nt">&quot;Referer&quot;</span>  <span class="p">:</span> <span class="mi">7</span>
    <span class="p">},</span>
    <span class="nt">&quot;types&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;Date&quot;</span>     <span class="p">:</span> <span class="s2">&quot;date:H:i:s&quot;</span><span class="p">,</span>
        <span class="nt">&quot;IP&quot;</span>       <span class="p">:</span> <span class="s2">&quot;ip:http&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Log&quot;</span>      <span class="p">:</span> <span class="s2">&quot;pre&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Severity&quot;</span> <span class="p">:</span> <span class="s2">&quot;badge:severity&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Referer&quot;</span>  <span class="p">:</span> <span class="s2">&quot;link&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;exclude&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;Log&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;\/PHP Stack trace:\/&quot;</span><span class="p">,</span> <span class="s2">&quot;\/PHP *[0-9]*\\. \/&quot;</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><h3 id="toc_32">3.1.2 - Keys</h3><h4 id="toc_33">count <small>[optional]</small></h4><p>Specify the number of most recent files to display when path is a glob pattern. See paragraph <strong>path</strong> below to learn how to use it.</p><p>If not specified, if less than 1 or if malformed, its default value is <code>1</code>.</p><h4 id="toc_34">display</h4><p>This string is the name displayed in the <em>Pimp My Log</em> interface in the file selector on top left.</p><p>Example:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;display&quot;</span> <span class="err">:</span> <span class="s2">&quot;Apache Error #1&quot;</span>
</code></pre></div><h4 id="toc_35">export</h4><p>This boolean let you choose to enable the export for this log file only or not. This parameter takes precedence on the global parameter <code>EXPORT</code>.</p><p>Example:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;export&quot;</span> <span class="err">:</span> <span class="kc">true</span>
</code></pre></div><h4 id="toc_36">path</h4><p>This string is the full path of the log file on the server.</p><p>Example:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;path&quot;</span> <span class="err">:</span> <span class="s2">&quot;\/opt\/local\/apache2\/logs\/error_log&quot;</span>
</code></pre></div><p>You can use a glob pattern to match several types. eg:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;path&quot;</span>  <span class="err">:</span> <span class="s2">&quot;\/opt\/local\/apache2\/logs\/error-2014*_log&quot;</span><span class="err">,</span>
<span class="s2">&quot;count&quot;</span> <span class="err">:</span> <span class="mi">2</span>
</code></pre></div><p>It will return a list, updated at each launch with the 2 most recent files which look like <code>error-2014*_log</code>. The <em>recent</em> value uses the last modification time to sort elected files.</p><p>It count is not specified, its default value is <code>1</code>.</p><p>Of course, all matching files must have the same type given that the same regex, types and matches are used.</p><h4 id="toc_37">refresh <small>[optional]</small></h4><p>This integer overwrite the global <code>LOGS_REFRESH</code> constant defined above only for the current file. This is the frequency in seconds to refresh the logs for the current file. If set to <code>0</code>, auto-refresh is disabled and users will have to pull to refresh, click on the refresh button or stroke the key <code>R</code>.</p><p>Example:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;refresh&quot;</span> <span class="err">:</span> <span class="mi">5</span>
</code></pre></div><h4 id="toc_38">max</h4><p>This integer overwrite the global <code>LOGS_MAX</code> constant defined above only for the current file. This is the count of displayed log lines.</p><p>Example:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;max&quot;</span> <span class="err">:</span> <span class="mi">10</span>
</code></pre></div><h4 id="toc_39">notify</h4><p>This boolean overwrite the global <code>NOTIFICATION</code> constant defined above only for the current file. If set to <code>true</code>, desktop notifications are enabled on supported browser. On launch, users will be prompt whether they allow or not desktop notifications.</p><p>Example:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;notify&quot;</span> <span class="err">:</span> <span class="kc">true</span>
</code></pre></div><h4 id="toc_40">order <small>[optional][since v1.2]</small></h4><p>This value defines the order to sort logs. Valid values are :</p><ul><li><code>1</code> : ascending sorting</li><li><code>-1</code> : descending sorting</li></ul><p>Example:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;order&quot;</span> <span class="err">:</span> <span class="mi">-1</span>
</code></pre></div><h4 id="toc_41">sort <small>[optional][since v1.2]</small></h4><p>This value defines the default column to use to sort logs. This is a value defined in the <code>format</code> key below.</p><blockquote><p><strong>Warning</strong></p><p>Sorting is not performed on the whole file but only with the N last lines !</p></blockquote><p>Sorting is case insensitive and detects numerical values.</p><p>Example:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;order&quot;</span> <span class="err">:</span> <span class="s2">&quot;Log&quot;</span>
</code></pre></div><h4 id="toc_42">tags <small>[optional][since v1.6]</small></h4><p>A list of tags or a single tag.</p><p>Example:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;tags&quot;</span> <span class="err">:</span> <span class="s2">&quot;Apache&quot;</span>
</code></pre></div><p>or</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;tags&quot;</span> <span class="err">:</span> <span class="p">[</span><span class="s2">&quot;Apache&quot;</span><span class="p">,</span><span class="s2">&quot;Several&quot;</span><span class="p">,</span><span class="s2">&quot;Tags&quot;</span><span class="p">]</span>
</code></pre></div><h4 id="toc_43">thinit <small>[optional][since v1.1.1]</small></h4><p>This value defines the default columns to display when loading the selected file. This is an array of columns defined in the <code>format</code> key below.</p><p>Example:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;thinit&quot;</span> <span class="err">:</span> <span class="p">[</span> <span class="s2">&quot;IP&quot;</span> <span class="p">,</span> <span class="s2">&quot;Log&quot;</span> <span class="p">,</span> <span class="s2">&quot;Severity&quot;</span> <span class="p">]</span>
</code></pre></div><h4 id="toc_44">format</h4><p>The <code>format</code> key is an JSON array which describes how a line of log text is parsed and how it is understood by <em>Pimp My Log</em>. This array is explained in the next following paragraph.</p><h2 id="toc_45">3.2 - Log parsing</h2><h3 id="toc_46">3.2.1 regex</h3><p>The regular expression is used in PHP with the <code>preg_match</code> function. This is a PCRE: <em>Perl Compatible Regular Expression</em>. The syntax is available <a href="http://www.php.net/manual/en/reference.pcre.pattern.syntax.php">here</a>.</p><p>The regular expression must:</p><ul><li>catch all wanted nuclear tokens</li><li>try to protect unknown formats</li></ul><blockquote><p><strong>Note</strong><br>The date can be considered as a nuclear token if it respects the PHP supported date and time formats as described <a href="https://php.net/manual/en/datetime.formats.php">here</a>. If your date format is not recognized, get the day as a token, month as a token, ... and you will see in the next paragraph how to rebuild a valid format.</p></blockquote><blockquote><p><strong>Note</strong><br>I want to say by <em>unknown formats protection</em> that it is a good practice to think about others users who can have some variations in their logs. For example, this text is caught via these both regular expressions:</p><ul><li>text : <code>[client 192.168.12.34]</code></li><li>RE1 : <code>\\[client (.*)\\]</code></li><li>RE2 : <code>([client (.*)\\] +)*</code></li></ul><p>but the second one will allow logs without <code>[client 192.168.12.34]</code> inside. You cannot imagine all cases but obvious cases should be considered.</p></blockquote><blockquote><p><strong>Advice</strong><br>Write regular expressions with the <a href="/developer/debug.html">debugger</a> and then json escape them!</p></blockquote><p>Example:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;regex&quot;</span><span class="err">:</span> <span class="s2">&quot;|^\\[(.*)\\] \\[(.*)\\] (\\[client (.*)\\] )*((?!\\[client ).*)(, referer: (.*))*$|U&quot;</span>
</code></pre></div><h3 id="toc_47">3.2.2 match</h3><p>The match object links <em>human fields</em> to <em>token rank</em> in the regular expression (back references to capturing subpatterns).</p><h5 id="toc_48">Simple link</h5><p>Example:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;match&quot;</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">&quot;Date&quot;</span>        <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;IP&quot;</span>          <span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="nt">&quot;Log&quot;</span>         <span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="nt">&quot;Severity&quot;</span>    <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="nt">&quot;WhatYouWant&quot;</span> <span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="nt">&quot;Referer&quot;</span>     <span class="p">:</span> <span class="mi">7</span>
<span class="p">}</span>
</code></pre></div><p>In the example above :</p><ul><li><code>WhatYouWant</code> is the third captured token in the regular expression</li><li><code>WhatYouWant</code> will be the header of the 5th column in the displayed log table in <em>Pimp My Log</em> because it has rank 5 in the definition object. If you want <code>WhatYouWant</code> to be the first column, move it in the first rank.</li></ul><h5 id="toc_49">Unrecognised date formats</h5><p>You can deal with odd date format as in the following example by capturing :</p><ul><li><code>d</code> : Day of the month, 2 digits with leading zeros. <em>eg</em>:<code>01</code> to <code>31</code></li><li><code>m</code> : Numeric representation of a month, with leading zeros. <em>eg</em>:<code>01</code> through <code>12</code></li><li><code>M</code> : A short textual representation of a month, three letters. <em>eg</em>:<code>Jan</code> through <code>Dec</code></li><li><code>Y</code> : A full numeric representation of a year, 4 digits. <em>eg</em>:<code>1978</code> or <code>2008</code></li><li><code>H</code> : 24-hour format of an hour with leading zeros <em>eg</em>:<code>00</code> through <code>23</code></li><li><code>i</code> : Minutes with leading zeros <em>eg</em>:<code>00</code> through <code>59</code></li><li><code>s</code> : Seconds with leading zeros <em>eg</em>:<code>00</code> through <code>59</code></li><li><code>z</code> : Time zone offset <em>eg</em>:<code>+0300</code> or <code>Europe/Paris</code> <small>[since v1.6]</small></li></ul><p>You can also deal with these single parameters :</p><ul><li><code>c</code> : ISO 8601 date. <em>eg</em>: <code>2004-02-12T15:19:21+00:00</code></li><li><code>r</code> : RFC 2822 date. <em>eg</em>: <code>Thu, 21 Dec 2000 16:01:07 +0200</code></li><li><code>U</code> : Seconds since the Unix Epoch</li></ul><p>You can deal with odd date format as in the following example by capturing :</p><blockquote><p><strong>Warning</strong></p><p>Letter case is very important! <code>M</code> is not <code>m</code>!</p></blockquote><p>Example:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;match&quot;</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">&quot;Date&quot;</span>    <span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;M&quot;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="nt">&quot;d&quot;</span> <span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="nt">&quot;H&quot;</span> <span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="nt">&quot;i&quot;</span> <span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="nt">&quot;s&quot;</span> <span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
        <span class="nt">&quot;Y&quot;</span> <span class="p">:</span> <span class="mi">8</span>
    <span class="p">},</span>
    <span class="nt">&quot;IP&quot;</span>          <span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
    <span class="nt">&quot;Log&quot;</span>         <span class="p">:</span> <span class="mi">14</span><span class="p">,</span>
    <span class="nt">&quot;Severity&quot;</span>    <span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="nt">&quot;WhatYouWant&quot;</span> <span class="p">:</span> <span class="mi">11</span><span class="p">,</span>
    <span class="nt">&quot;Referer&quot;</span>     <span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
<span class="p">}</span><span class="err">,</span>
</code></pre></div><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;match&quot;</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">&quot;Date&quot;</span>    <span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;U&quot;</span> <span class="p">:</span> <span class="mi">2</span>
    <span class="p">},</span>
    <span class="nt">&quot;IP&quot;</span>          <span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
    <span class="nt">&quot;Log&quot;</span>         <span class="p">:</span> <span class="mi">14</span><span class="p">,</span>
    <span class="nt">&quot;Severity&quot;</span>    <span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="nt">&quot;WhatYouWant&quot;</span> <span class="p">:</span> <span class="mi">11</span><span class="p">,</span>
    <span class="nt">&quot;Referer&quot;</span>     <span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
<span class="p">}</span><span class="err">,</span>
</code></pre></div><h5 id="toc_50">Concatenation</h5><p>You can concatenate several tokens and strings in a single field. This is useful when you want to build a field value with several tokens which do not stand side by side in a line of log.</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;match&quot;</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">&quot;IP&quot;</span>          <span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
    <span class="nt">&quot;Log&quot;</span>         <span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;&gt;&gt;&gt;&quot;</span> <span class="p">,</span> <span class="mi">10</span> <span class="p">,</span> <span class="s2">&quot;: &quot;</span> <span class="p">,</span> <span class="mi">14</span> <span class="p">,</span> <span class="s2">&quot;&lt;&lt;&lt;&quot;</span> <span class="p">],</span>
    <span class="nt">&quot;Severity&quot;</span>    <span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="nt">&quot;WhatYouWant&quot;</span> <span class="p">:</span> <span class="mi">11</span><span class="p">,</span>
    <span class="nt">&quot;Referer&quot;</span>     <span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
<span class="p">}</span><span class="err">,</span>
</code></pre></div><p>2nd column values will look like this <code>&gt;&gt;&gt;token10: token14&lt;&lt;&lt;</code>.</p><blockquote><p><strong>Note</strong><br>Concatenation fits the unknown date format perfectly. Simpl &quot;Date&quot; : [ 8 , &#39;/&#39; , 2 , &#39;/&#39; , 3 , &#39; &#39; , 4 , &#39;:&#39; , 5 , &#39;:&#39; 6 ],</p></blockquote><h3 id="toc_51">3.2.3 types</h3><p>Each log token is typed in order to be displayed with the right format and the right style.</p><p>Typing a token is easy. You just have to assign a type to a <em>human field</em> name. Here is an example:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;types&quot;</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">&quot;Date&quot;</span>     <span class="p">:</span> <span class="s2">&quot;date:H:i:s&quot;</span><span class="p">,</span>
    <span class="nt">&quot;IP&quot;</span>       <span class="p">:</span> <span class="s2">&quot;ip:http&quot;</span><span class="p">,</span>
    <span class="nt">&quot;Log&quot;</span>      <span class="p">:</span> <span class="s2">&quot;pre/100&quot;</span><span class="p">,</span>
    <span class="nt">&quot;Severity&quot;</span> <span class="p">:</span> <span class="s2">&quot;badge:severity&quot;</span><span class="p">,</span>
    <span class="nt">&quot;Referer&quot;</span>  <span class="p">:</span> <span class="s2">&quot;link&quot;</span>
<span class="p">}</span>
</code></pre></div><p>You can find all supported types in the following paragraph</p><h3 id="toc_52">3.2.4 exclude</h3><p>You can exclude some logs if some regular expressions match a token value.</p><p>Example:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;exclude&quot;</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">&quot;Log&quot;</span>  <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;\/PHP Stack trace:\/&quot;</span><span class="p">,</span> <span class="s2">&quot;\/PHP *[0-9]*\\. \/&quot;</span><span class="p">],</span>
    <span class="nt">&quot;Date&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;\/2013\/&quot;</span><span class="p">],</span>
    <span class="nt">&quot;Url &quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;\/favicon.ico\/&quot;</span><span class="p">],</span>
<span class="p">}</span>
</code></pre></div><p>In the example below, we don&#39;t want to retrieve:</p><ul><li>logs which have a <code>Date</code> value which contains <code>2013</code></li><li>logs which have a <code>Log</code> value which contains <code>PHP Stack trace:</code></li><li>logs which have a <code>Log</code> value which looks like <code>PHP NUMBER.</code></li><li>logs which have a <code>Url</code> value which contains <code>favicon.ico</code></li></ul><h3 id="toc_53">3.2.5 multiline</h3><p><em>Pimp My Log</em> can handle log files where the last field of each line can contains the <code>\n</code> char. Take this example:</p><div class="highlight"><pre><code class="text language-text" data-lang="text">[27-11-2013:23:20:40 +0100] This is an error
on several lines
[27-11-2013:23:20:41 +0100] Single line is cool too
</code></pre></div><p>Instead of rejecting the second line, if the multiline value is not empty and if its value is a token name then all unmatched lines will be appended to the token.</p><p>Example:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;multiline&quot;</span><span class="err">:</span> <span class="s2">&quot;Log&quot;</span>
</code></pre></div><p>In the example above, the first <code>Log</code> value will be:</p><div class="highlight"><pre><code class="text language-text" data-lang="text">Single line is cool too
</code></pre></div><p>then the second <code>Log</code> value will be:</p><div class="highlight"><pre><code class="text language-text" data-lang="text">This is an error
on several lines
</code></pre></div><h3 id="toc_54">3.2.6 export_title</h3><p>Which field should be taken as a title when exporting to RSS and ATOM ?</p><p>Example:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;export_title&quot;</span><span class="err">:</span> <span class="s2">&quot;Log&quot;</span>
</code></pre></div><p>In this example, the <code>Log</code> field will be used as the RSS and ATOM title in your feeds.</p><h2 id="toc_55">3.3 Types format</h2><p><a name="typesformat"></a></p><p>The type format is:</p><div class="highlight"><pre><code class="json language-json" data-lang="json"><span class="s2">&quot;field&quot;</span> <span class="err">:</span> <span class="s2">&quot;type[:value][/cut_char_count]&quot;</span>
</code></pre></div><p>Example:</p><ul><li><code>txt/100</code> : display the first <strong>100 chars</strong> of the value without any formatting</li><li><code>link:http/50</code> : display the <strong>50 first chars</strong> of the field formatted as an url which redirect to <a href="http://value">http://value</a></li><li><code>ip:geo/-7</code> : display the <strong>7 last chars</strong> of the field formatted as an url which redirect to <a href="http://www.geoiptool.com/en/?IP=value">http://www.geoiptool.com/en/?IP=value</a></li></ul><blockquote><p><strong>Note</strong></p><p>When moving your mouse on a value, a tooltip with the raw value is always displayed except for human field named <code>Date</code> which always displays the full log line in the tooltip.</p></blockquote><blockquote><p><strong>Warning</strong></p><p>Spaces between delimiters are not allowed!</p><ul><li><code>link:http/50</code> is correct</li><li><code>date:Y/m/d H:i:s/100</code> is correct (space is in the type value)</li><li><code>link :http/50</code> is invalid</li><li><code>link: http/50</code> is invalid</li><li><code>link:http /50</code> is invalid</li><li><code>link:http/ 50</code> is invalid</li></ul></blockquote><h3 id="toc_56">type <em>badge</em></h3><p>When you specify this type, a colored label will be displayed according to the <code>badges</code> object as explained <a href="#badges">above</a>. If the value is not defined as a key in the <code>badges</code> object, the bootstrap <code>label-default</code> class is applied.</p><ul><li><p><strong>value *http</strong>*<br>The badge will be colored according to the first char of the value.<br><em>eg</em>: type <code>badge:http</code> on value <code>404</code> will produce <span class="label label-danger">404</span><br><em>eg</em>: type <code>badge:http</code> on value <code>200</code> will produce <span class="label label-success">200</span></p></li><li><p><strong>value *severity</strong>*<br>The badge will be colored according to the value.<br><em>eg</em>: type <code>badge:severity</code> on value <code>error</code> will produce <span class="label label-danger">error</span><br><em>eg</em>: type <code>badge:severity</code> on value <code>debug</code> will produce <span class="label label-success">debug</span></p></li><li><p>No value will produce a default label.<br><em>eg</em>: type <code>badge</code> on value <code>what you want</code> will produce <span class="label label-default">what you want</span></p></li></ul><h3 id="toc_57">type <em>date</em></h3><p>The value of this type is dynamic. Date format is a PHP date format and is available <a href="http://php.net/manual/function.date.php">here</a>.</p><ul><li><em>eg</em>: type <code>date:H:i:s</code> will produce <code>23:33:23</code><br></li><li><em>eg</em>: type <code>date</code> will produce <code>2014/01/09 23:33:23</code> as <code>date:Y/m/d H:i:s/100</code></li></ul><blockquote><p><strong>Note</strong></p><p><code>date:Y/m/d H:i:s</code> will produce a odd behaviour because <em>Pimp My Log</em> will think that you want to cut the value at <code>d H:i:s</code> chars... In this case, use a large amount of chars so that the value will never be cut: <code>date:Y/m/d H:i:s/100</code></p></blockquote><h3 id="toc_58">type <em>ip</em></h3><p>The <em>IP</em> type assumes that the value is a valid IP address.</p><ul><li><p><strong>value *geo</strong>*<br>The global constant <code>GEOIP_URL</code> will be used to generate a link for the IP address.<br><em>eg</em>: type <code>ip:geo</code> on value <code>93.184.216.119</code> will produce text <code>93.184.216.119</code> linked to <a href="http://www.geoiptool.com/en/?IP=93.184.216.119">http://www.geoiptool.com/en/?IP=93.184.216.119</a><br><em>eg</em>: type <code>ip:geo</code> on value <code>192.168.19.16</code> will produce text <code>192.168.19.16</code> linked to <a href="http://www.geoiptool.com/en/?IP=192.168.19.16">http://www.geoiptool.com/en/?IP=192.168.19.16</a> which is not really useful...</p></li><li><p><strong>value *WhatYouWant</strong>*<br>The value will be linked to address <code>WhatYouWant://value</code><br><em>eg</em>: type <code>ip:http</code> on value <code>93.184.216.119</code> will produce text <code>93.184.216.119</code> linked to <a href="http://93.184.216.119">http://93.184.216.119</a><br><em>eg</em>: type <code>ip:ftp</code> on value <code>192.168.19.16</code> will produce text <code>192.168.19.16</code> linked to <a href="ftp://192.168.19.16">ftp://192.168.19.16</a></p></li></ul><h3 id="toc_59">type <em>link</em></h3><p>The <em>link</em> type simply adds a link to the value.</p><ul><li><em>eg</em>: type <code>link</code> on value <code>http://93.184.216.119</code> will produce text <code>http://93.184.216.119</code> linked to <a href="http://93.184.216.119">http://93.184.216.119</a><br></li><li><em>eg</em>: type <code>link</code> on value <code>http://www.google.fr</code> will produce text <code>http://www.google.fr</code> linked to <a href="http://www.google.fr">http://www.google.fr</a><br></li></ul><h3 id="toc_60">type <em>numeral</em></h3><p>Numeral uses the awesome library <em>Numeral.js</em> available <a href="http://numeraljs.com">here</a>.</p><ul><li><em>eg:</em> <code>numeral:0b</code> will produce an whole number of bytes</li><li><em>eg:</em> <code>numeral:0.0</code> will produce an whole number formated with a thousand separator</li></ul><h3 id="toc_61">type <em>port</em></h3><p>The <em>port</em> type assumes that the value is a valid numerical TCP/UDP port.</p><p><em>eg</em>: type <code>port</code> on value <code>443</code> will produce text <code>443</code> linked to <a href="http://www.adminsub.net/tcp-udp-port-finder/443">http://www.adminsub.net/tcp-udp-port-finder/443</a></p><h3 id="toc_62">type <em>pre</em></h3><p>The <em>pre</em> type simply formats text with standart CSS <code>white-space : pre;</code>. It means that it respects spaces, tabs and line breaks;</p><ul><li><em>eg:</em> <code>pre</code></li></ul><h3 id="toc_63">type <em>prefake</em></h3><p>The <em>prefake</em> type is a replacement for the <em>pre</em> type for Firefox user who wants to copy/paste <em>multiline</em> logs. This is a workaround for <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=116083">the older bug of history</a> ouch !</p><p>It will only simulate breaklines, not spaces.</p><ul><li><em>eg:</em> <code>prefake</code></li></ul><h3 id="toc_64">type <em>numeral</em></h3><p>Numeral uses the awesome library <em>Numeral.js</em> available <a href="http://numeraljs.com">here</a>.</p><ul><li><em>eg:</em> <code>numeral:0b</code> will produce an whole number of bytes</li><li><em>eg:</em> <code>numeral:0.0</code> will produce an whole number formated with a thousand separator</li></ul><h3 id="toc_65">type <em>ua</em></h3><p>Numeral uses the awesome library <em>UAParser.js</em> available <a href="https://github.com/faisalman/ua-parser-js">here</a>.</p><ul><li><em>eg:</em> <code>ua:{os.name} {os.version} | {browser.name} {browser.version}</code> will produce <code>Mac OS X 10.9.1 | Safari 7.0.1</code> for my computer and my favourite browser or <code>Windows 7 | Opera 12.15</code> for odd guys...</li></ul><blockquote><p><strong>Note</strong></p><ul><li>If any token cannot be analysed, it will return the full user agent like this: <code>Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)</code></li><li>If some token can be analysed but not all, it will return something like this: <code>{os.name} {os.version} | Firefox 3.6.28</code></li></ul></blockquote><blockquote><p><strong>Warning</strong></p><p>Do not put space between <code>{}</code><br><code>{os.version}</code> is correct<br><code>{ os.version}</code> is invalid</p></blockquote><h3 id="toc_66">Default type</h3><p>The default type is <code>txt</code> and if you put an undefined type, it will be managed as <code>txt</code>.</p><p>The default type simply display the value without any format.</p><p><em>eg</em>: <code>txt/100</code>, <code>map/100</code>, <code>dude/100</code>, ... will display the same thing</p><h1 id="toc_67">4 - Environment parameters</h1><p><a name="environment"></a></p><h4 id="toc_68">Env parameter <code>PML_BASE_CONFIG</code></h4><p><em>Pimp My Log</em> can store configuration somewhere else the root directory.</p><p>Set the <code>PML_BASE_CONFIG</code> environment parameter on your system to the folder path where you want <em>Pimp My Log</em> to save configuration.</p><hr><footer><div class="pull-left">&copy; 2017 <a href="http://www.potsky.com">Potsky</a></div><div class="pull-right"><ul class="list-inline"><li><a href="http://support.pimpmylog.com">Support</a></li><li><a href="https://github.com/potsky/PimpMyLog">GitHub</a></li><li><a href="/rss.xml">RSS</a></li><li class="hidden-xs hidden-sm inline-block"><a href="/atom.xml">Atom</a></li></ul></div></footer></div><script src="/dist/global.min.js?pml=0216171453"></script></body></html>